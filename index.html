<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="theme-color" content="#000010"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RADIO AVENTURA</title>
  <meta name="description" content="Player para Zeno Radio"/>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/>
  <link href="css/main.css" rel="stylesheet">
  
  <!-- Estilos para el slider -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"/>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
</head>

<body>
  <nav>
    <div class="nav">
      <a href="./"><img src="img/logo.png" alt="RADIO AVENTURA"/></a>
      <span class="hamburger"><span></span><span></span><span></span><span></span><span></span></div>
    <div class="menu">
      <a href="/programacion.html" class="menu-button">Programación</a>
      <a href="https://estacionkusmedios.org" class="menu-button">Nuestro Potenciador</a>
      <a href="#" class="menu-button">Publicidad</a> <!-- Botón Publicidad -->
    </div>
  </nav>

  <section>
    <a href="./"><img class="logo" src="img/logo.png" alt="Player para Zeno Radio"/></a>
    <div class="title">
      <div class="placeholder">
        <span class="artist">Artista</span>
        <span class="song">Tema</span>
      </div>
    </div>

    <div class="cd"><div class="images"><img class="lazyload" src="img/default.jpg" alt="cover o portada"/></div></div>
    <div class="cent"><a href="https://paypal.com" target="_blank" rel="nofollow">Donar</a></div>

    <div class="controls">
      <ul class="cols controls">
        <li>
          <div onclick="PLAYPAUSE()" class="play">
            <div class="loading"><img src="img/loading.svg" alt=""/></div>
            <img src="img/play.svg" alt="">
            <img src="img/stop.svg" alt="">
          </div>
        </li>
        <li>
          <div class="volume">
            <ul class="cols">
              <li><img src="img/volume0.svg" alt=""></li>
              <li><input type="range" id="volume" min="0" max="100" value="90"></li>
              <li><img src="img/volume100.svg" alt=""></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>

    <div class="bg"><img class="lazyload" src="img/default.jpg" alt=""/></div>
    <div class="eq"><img class="lazyload" src="img/eq.svg" alt=""/></div>
  </section>

  <!-- Slider de publicidad -->
  <section id="advertisements">
    <h2>Publicidad</h2>
    <div class="slider">
      <div><img src="publicidad1.jpg" alt="Publicidad 1"></div>
      <div><img src="publicidad2.jpg" alt="Publicidad 2"></div>
      <div><img src="publicidad3.jpg" alt="Publicidad 3"></div>
    </div>
  </section>

  <script>
    const stream = "https://stream.zeno.fm/hgkpljeofe6tv.acc";
    const audio = new Audio(stream);
    const PLAYPAUSE = () => audio.paused ? audio.play() : audio.pause();

    audio.onplay = () => $(".loading, .eq, .play").addClass("on");
    audio.onpause = () => $(".loading, .eq, .play").removeClass("on");
    audio.onerror = () => alert("Radio sin conexión, revise la fuente.");
    $("#volume").on("input", function () { audio.volume = this.value / 100; });

    // Actualización dinámica del artista y la canción
    function updateSongInfo() {
      fetch("https://stream.zeno.fm/hgkpljeofe6tv") // Sustituye con la URL de metadatos de tu servidor
        .then(response => response.json())
        .then(data => {
          const artist = data.artist || "Artista Desconocido";
          const song = data.song || "Canción Desconocida";

          document.querySelector(".placeholder .artist").textContent = artist;
          document.querySelector(".placeholder .song").textContent = song;
        })
        .catch(error => console.error("Error al obtener los datos de metadatos:", error));
    }

    // Llamar a la función cada 10 segundos
    setInterval(updateSongInfo, 10000);

    // Slider de publicidad
    $(document).ready(function() {
      $('.slider').slick({
        autoplay: true,
        autoplaySpeed: 3000,
        dots: true,
        arrows: false
      });
    });

    // Botón Publicidad funcional
    $(".menu-button").on("click", function(e) {
      const target = $(this).text();
      if (target === "Publicidad") {
        alert("Publicidad: Contáctanos para aparecer aquí.");
      }
    });
  </script>
</body>
</html>
